## äº‹å®$\textbf{A.2}$çš„å†…å®¹

ğŸ‘‰å‰æ$1$ï¼šä»»æ„æ•°ï¼š$\forall\varepsilon\delta\text{>}0$ï¼Œ$\forall{d}\text{â‰¥}1$ï¼Œ$\forall{}xy\text{âˆˆ}\mathbb{R}^{d}$

ğŸ‘‰å‰æ$2$ï¼šå‹ç¼©çŸ©é˜µï¼š$S\text{âˆˆ}\mathbb{R}^{t\text{Ã—}d}$ï¼Œå…¶ä¸­$s_{ij}\sim{}U\{â€“1,1\}$ï¼Œä¸”$t\text{=}O\left(\cfrac{1}{\varepsilon^{2}}\log\cfrac{1}{\delta}\right)$

1. $s_{ij}\sim{}U\{â€“1,1\}$æ„æ€æ˜¯æŒ‡$\text{Pr}[s_{ij}\text{=}1]\text{=}\text{Pr}[s_{ij}\text{=}â€“1]\text{=}\cfrac{1}{2}$

ğŸ‘‰ç»“è®º$1$ï¼šå†…ç§¯çš„æœŸæœ›$\mathbb{E}\left[\cfrac{1}{t}\langle{}Sx,Sy\rangle{}\right]\text{=}\langle{}x,y\rangle{}$

ğŸ‘‰ç»“è®º$2$ï¼šå†…ç§¯çš„åå·®$\left|\cfrac{1}{t}\langle{}Sx,Sy\rangle{}â€“\langle{}x,y\rangle{}\right|\text{â‰¤}\varepsilon\|x\|\|y\|$ï¼Œä»¥$\text{Pr}\text{â‰¥}1\text{â€“}\delta$æ¦‚ç‡æˆç«‹

## [æ¨è®º$\textbf{1}$çš„å†…å®¹](è¯æ˜05-å¼•æ–‡-æ¨è®º1) 

ğŸ‘‰å‰æ$1$ï¼šè®¾ä¸€ä¸ªéšæœºçŸ©é˜µ$S\text{=}(s_{ij})\text{âˆˆ}\mathbb{R}^{t\text{Ã—}d}$ï¼Œæ¯ä¸ªå…ƒç´ $s_{ij}$ç‹¬ç«‹åŒåˆ†å¸ƒäº$U(â€“1,1)$

1. åŸæ–‡ä¸­çš„è¡¨è¿°æ˜¯$U(â€“1,1)$ï¼Œä½†æŒ‡ç»“åˆåˆ†æåº”è¯¥ä¸æ˜¯è¯´$[â€“1,1]$ä¸Šçš„å‡åŒ€åˆ†å¸ƒï¼Œè€Œæ˜¯æŒ‡$\text{Pr}[s_{ij}\text{=}1]\text{=}\text{Pr}[s_{ij}\text{=}â€“1]\text{=}\cfrac{1}{2}$

ğŸ‘‰å‰æ$2$ï¼šå¯¹ä»»æ„å›ºå®šå‘é‡$u\text{âˆˆ}\mathbb{R}^{d\text{Ã—}1}$(å³$u_{ij}$ä¸éšæœº)ï¼Œå®šä¹‰$u^{\prime}\text{=}\cfrac{1}{\sqrt{t}}(Su)$

ğŸ‘‰ç»“è®º$1$ï¼š$\mathrm{Pr}\left[\left\|u^{\prime}\right\|^2\text{â‰¤}(1\text{â€“}\varepsilon)\|u\|^2\right]\text{â‰¤}e^{â€“\frac{\left(\varepsilon^2â€“\varepsilon^3\right)t}{4}}$

ğŸ‘‰ç»“è®º$2$ï¼š$\mathrm{Pr}\left[\left\|u^{\prime}\right\|^2\text{â‰¥}(1\text{+}\varepsilon)\|u\|^2\right]\text{â‰¤}e^{â€“\frac{\left(\varepsilon^2â€“\varepsilon^3\right)t}{4}}$

## å¯¹ç»“è®º$\textbf{1}$çš„è¯æ˜

â¡ï¸ä»¤$S\text{=}\{s_{ij}\}$åˆ™æœ‰$\displaystyle{}\langle{}Sx,Sy\rangle{}\text{=}
\sum_{i=1}^t\left(\sum_{j=1}^ds_{ij}^2x_jy_j\right)\text{â†}\begin{cases}
\displaystyle{}Sx\text{=}\left(\sum_{j=1}^ds_{1j}x_j,\sum_{j=1}^ds_{2j}x_j,\ldots,\sum_{j=1}^ds_{tj}x_j\right)^{\top}\\\\
\displaystyle{}Sy\text{=}\left(\sum_{j=1}^ds_{1j}y_j,\sum_{j=1}^ds_{2j}y_j,\ldots,\sum_{j=1}^ds_{tj}y_j\right)^{\top}
\end{cases}$

â¡ï¸å¯¹äº$s_{ij}\sim{}U(â€“1,1)$è€Œè¨€ï¼Œæœ‰$\mathbb{E}\left[s_{ij}^{2m}\right]\text{=}\cfrac{1}{2}(â€“1)^{2m}\text{+}\cfrac{1}{2}1^{2m}\text{=}1$ï¼Œæ•…$\displaystyle{}\mathbb{E}\left[s_{ij}^2\right]\text{=}1$

â¡ï¸$\displaystyle{}\mathbb{E}[\langle{}Sx,Sy\rangle{}]\text{=}\mathbb{E}\left[\sum_{i=1}^t\left(\sum_{j=1}^ds_{ij}^2x_jy_j\right)\right]\text{=}\sum_{j=1}^d\left(\sum_{j=1}^d\mathbb{E}\left[s_{ij}^2\right]x_jy_j\right)\text{=}\sum_{j=1}^d\left(\sum_{j=1}^dx_jy_j\right)\text{=}t\langle{}x,y\rangle{}$

## å¯¹ç»“è®º$\textbf{2}$çš„è¯æ˜

â¡ï¸å½’ä¸€åŒ–$xy$ä¸º$u\text{=}\cfrac{x}{\|x\|}$ä»¥åŠ$v\text{=}\cfrac{y}{\|y\|}$ï¼Œä»£å›åŸç»“è®ºåå³éœ€è¯$\left|\cfrac{1}{t}\langle{}Su,Sv\rangle{}â€“\langle{}u,v\rangle{}\right|\text{â‰¤}\varepsilon$

â¡ï¸åˆ©ç”¨æåŒ–æ’ç­‰å¼åˆ™æœ‰$\cfrac{1}{t}\langle{}Su,Sv\rangle{}\text{=}\cfrac{1}{4}\left(\cfrac{\|S(u\text{+}v)\|^2}{t}â€“\cfrac{\|S(uâ€“v)\|^2}{t}\right)$ä»¥åŠ$\langle{}u,v\rangle{}\text{=}\cfrac{1}{4}\left(\|u\text{+}v\|^2â€“\|uâ€“v\|^2\right)$

â¡ï¸åº”ç”¨æ¨è®º$1$ï¼š

1. å¯¹äº$u\text{+}v$äºæ˜¯æœ‰$\begin{cases}
   \mathrm{Pr}\left[\left\|\cfrac{1}{\sqrt{t}}(S(u\text{+}v))\right\|^2\text{â‰¤}(1\text{â€“}\varepsilon)\|u\text{+}v\|^2\right]\text{=}\mathrm{Pr}\left[\cfrac{1}{t}\left\|S(u\text{+}v)\right\|^2\text{â‰¤}(1\text{â€“}\varepsilon)\|u\text{+}v\|^2\right]\text{â‰¤}e^{â€“\frac{\left(\varepsilon^2â€“\varepsilon^3\right)t}{4}}
   \\\\
   \mathrm{Pr}\left[\left\|\cfrac{1}{\sqrt{t}}(S(u\text{+}v))\right\|^2\text{â‰¥}(1\text{+}\varepsilon)\|u\text{+}v\|^2\right]\text{=}\mathrm{Pr}\left[\cfrac{1}{t}\left\|S(u\text{+}v)\right\|^2\text{â‰¥}(1\text{+}\varepsilon)\|u\text{+}v\|^2\right]\text{â‰¤}e^{â€“\frac{\left(\varepsilon^2â€“\varepsilon^3\right)t}{4}}
   \end{cases}$

2. å¯¹äº$u\text{â€“}v$äºæ˜¯æœ‰$\begin{cases}
   \mathrm{Pr}\left[\left\|\cfrac{1}{\sqrt{t}}(S(u\text{â€“}v))\right\|^2\text{â‰¤}(1\text{â€“}\varepsilon)\|u\text{â€“}v\|^2\right]\text{=}\mathrm{Pr}\left[\cfrac{1}{t}\left\|S(u\text{â€“}v)\right\|^2\text{â‰¤}(1\text{â€“}\varepsilon)\|u\text{â€“}v\|^2\right]\text{â‰¤}e^{â€“\frac{\left(\varepsilon^2â€“\varepsilon^3\right)t}{4}}
   \\\\
   \mathrm{Pr}\left[\left\|\cfrac{1}{\sqrt{t}}(S(u\text{â€“}v))\right\|^2\text{â‰¥}(1\text{+}\varepsilon)\|u\text{â€“}v\|^2\right]\text{=}\mathrm{Pr}\left[\cfrac{1}{t}\left\|S(u\text{â€“}v)\right\|^2\text{â‰¥}(1\text{+}\varepsilon)\|u\text{â€“}v\|^2\right]\text{â‰¤}e^{â€“\frac{\left(\varepsilon^2â€“\varepsilon^3\right)t}{4}}
   \end{cases}$

3. åˆåœ¨ä¸€èµ·å³ä¸º$\begin{cases}\mathrm{Pr}\left[\cfrac{1}{t}\left\|S(u\text{+}v)\right\|^2\text{âˆ‰}(1\text{Â±}\varepsilon)\|u\text{+}v\|^2\right]\text{â‰¤}2e^{â€“\frac{\left(\varepsilon^2â€“\varepsilon^3\right)t}{4}}\\\\\mathrm{Pr}\left[\cfrac{1}{t}\left\|S(u\text{â€“}v)\right\|^2\text{âˆ‰}(1\text{Â±}\varepsilon)\|u\text{â€“}v\|^2\right]\text{â‰¤}2e^{â€“\frac{\left(\varepsilon^2â€“\varepsilon^3\right)t}{4}}\end{cases}$æˆ–è€…$\begin{cases}\mathrm{Pr}\left[\cfrac{1}{t}\left\|S(u\text{+}v)\right\|^2\text{âˆˆ}(1\text{Â±}\varepsilon)\|u\text{+}v\|^2\right]\text{â‰¥}1â€“2e^{â€“\frac{\left(\varepsilon^2â€“\varepsilon^3\right)t}{4}}\\\\\mathrm{Pr}\left[\cfrac{1}{t}\left\|S(u\text{â€“}v)\right\|^2\text{âˆˆ}(1\text{Â±}\varepsilon)\|u\text{â€“}v\|^2\right]\text{â‰¥}1â€“2e^{â€“\frac{\left(\varepsilon^2â€“\varepsilon^3\right)t}{4}}\end{cases}$

â¡ï¸å…³äºå†…ç§¯çš„åå·®ï¼š

1. å†…ç§¯åå·®$\left|\cfrac{1}{t}\langle{}Su,Sv\rangle{}â€“\langle{}u,v\rangle{}\right|\text{=}\cfrac{1}{4}\left(\left(\cfrac{1}{t}\|S(u\text{+}v)\|^2â€“\|u\text{+}v\|^2\right)â€“\left(\cfrac{1}{t}\|S(u\text{â€“}v)\|^2â€“\|u\text{â€“}v\|^2\right)\right)$
2. å‡è®¾$\mathrm{Pr}\left[\cfrac{1}{t}\left\|S(u\text{+}v)\right\|^2\text{âˆˆ}(1\text{Â±}\varepsilon)\|u\text{+}v\|^2\right]\text{â‰¥}1â€“2e^{â€“\frac{\left(\varepsilon^2â€“\varepsilon^3\right)t}{4}}$ä¸­çš„ç»“è®ºæˆç«‹ï¼Œåˆ™$\max\left\{\cfrac{1}{t}\|S(u\text{+}v)\|^2â€“\|u\text{+}v\|^2\right\}\text{=}\varepsilon{}\|u\text{+}v\|^2$
3. å‡è®¾$\mathrm{Pr}\left[\cfrac{1}{t}\left\|S(u\text{â€“}v)\right\|^2\text{âˆˆ}(1\text{Â±}\varepsilon)\|u\text{â€“}v\|^2\right]\text{â‰¥}1â€“2e^{â€“\frac{\left(\varepsilon^2â€“\varepsilon^3\right)t}{4}}$ä¸­çš„ç»“è®ºæˆç«‹ï¼Œåˆ™$\min\left\{\cfrac{1}{t}\|S(u\text{â€“}v)\|^2â€“\|u\text{â€“}v\|^2\right\}\text{=}â€“\varepsilon{}\|u\text{â€“}v\|^2$
4. ä»£å›å¾—$\left|\cfrac{1}{t}\langle{}Su,Sv\rangle{}â€“\langle{}u,v\rangle{}\right|\text{â‰¤}\cfrac{\varepsilon{}}{4}\left(\|u\text{+}v\|^2\text{+}\|u\text{â€“}v\|^2\right)\text{=}\cfrac{\varepsilon{}}{4}\left(2\|u\|^2\text{+}2\|v\|^2\right)\text{=}\varepsilon$

â¡ï¸åŠ å…¥æ¦‚ç‡ä¿®æ­£ï¼š

1. ä¸å¦¨å‡è®¾$\begin{cases}\cfrac{1}{t}\left\|S(u\text{+}v)\right\|^2\text{âˆˆ}(1\text{Â±}\varepsilon)\|u\text{+}v\|^2\\\\\cfrac{1}{t}\left\|S(u\text{â€“}v)\right\|^2\text{âˆˆ}(1\text{Â±}\varepsilon)\|u\text{â€“}v\|^2\end{cases}$éƒ½ä»¥$\cfrac{\mu}{2}$çš„æ¦‚ç‡ä¸æˆç«‹
2. äºæ˜¯å°±æœ‰$2e^{â€“\frac{\left(\varepsilon^2â€“\varepsilon^3\right)t}{4}}\text{â‰¤}\cfrac{\mu}{2}$ï¼Œä»è€Œè§£å¾—$t\text{â‰¥}\cfrac{4}{\varepsilon^2â€“\varepsilon^3}\ln\left(\cfrac{4}{\mu}\right)$ï¼Œæ‰€ä»¥$t\text{=}O\left(\cfrac{1}{\varepsilon^{2}}\log\cfrac{1}{\mu}\right)$
3. ç»“åˆæ¡ä»¶$t\text{=}O\left(\cfrac{1}{\varepsilon^{2}}\log\cfrac{1}{\delta}\right)$å¯çŸ¥$\mu\text{=}\delta$
4. ä¹Ÿå°±æ˜¯è¯´$\begin{cases}\cfrac{1}{t}\left\|S(u\text{+}v)\right\|^2\text{âˆˆ}(1\text{Â±}\varepsilon)\|u\text{+}v\|^2\\\\\cfrac{1}{t}\left\|S(u\text{â€“}v)\right\|^2\text{âˆˆ}(1\text{Â±}\varepsilon)\|u\text{â€“}v\|^2\end{cases}$éƒ½ä»¥$\cfrac{\delta}{2}$çš„æ¦‚ç‡ä¸æˆç«‹
5. è€ƒè™‘æ¦‚ç‡å…¬å¼$P(A\text{âˆª}B)\text{â‰¤}P(A)\text{+}P(B)$ï¼Œæœ€ç»ˆç»“è®ºä¸æˆç«‹çš„æ¦‚ç‡(ä¹Ÿå°±æ˜¯ä»¥ä¸ŠäºŒè€…éƒ½ä¸æˆç«‹çš„æ¦‚ç‡)$\text{â‰¤}\delta$
6. å³æœ€ç»ˆç»“è®ºä»¥å¤§äº$1\text{â€“}\delta$çš„æ¦‚ç‡æˆç«‹







