### Indexing for Keyword Search with Structured Constraint

# 0. å†™åœ¨å‰é¢

> ## 0.1. é€šç”¨ç¬¦å·
>
> > :one:æŸ¥è¯¢æœ‰å…³ç¬¦å·
> >
> > |                 ç¬¦å·                 | å«ä¹‰                                     |
> > | :----------------------------------: | ---------------------------------------- |
> > |                 $D$                  | å¾…æŸ¥è¯¢çš„æ•°æ®é›†                           |
> > |                 $e$                  | å¸¦æŸ¥è¯¢çš„å¯¹è±¡ï¼Œ$e\in{}D$                  |
> > | $\mathrm{w}_1, \ldots, \mathrm{w}_k$ | $k$ä¸ªç»™å®šçš„å…³é”®è¯ï¼Œ$k$ä¸ºç»™å®šçš„å…³é”®è¯æ•°é‡ |
> > |             $\text{OUT}$             | æŸ¥è¯¢ç»“æœ(è¾“å‡º)çš„å¤§å°                     |
> >
> > :two:$kd\text{-}$æ ‘æœ‰å…³ç¬¦å·
> >
> > |       ç¬¦å·        | å«ä¹‰                                                         |
> > | :---------------: | ------------------------------------------------------------ |
> > |        $N$        | å¶ç»“ç‚¹æ•°é‡                                                   |
> > |       $P_u$       | ä»¥$kd\text{-}$æ ‘ä¸­é—´èŠ‚ç‚¹$u$ä¸ºæ ¹çš„å­æ ‘çš„å¶èŠ‚ç‚¹é›†ï¼Œæ‰€å¯¹åº”çš„$\mathbb{R}^2$ä¸­çš„ç‚¹é›† |
> > |    $\Delta_u$     | $\mathbb{R}^2$ä¸­åŒ…ä½$P_u$æ‰€æœ‰ç‚¹çš„çŸ©å½¢ï¼ŒçŸ©å½¢é•¿å®½å¹³è¡Œäºåæ ‡    |
> > | $\text{level}(u)$ | $u$æ‰€åœ¨çš„å±‚æ•°ï¼Œé»˜è®¤æ ¹ç»“ç‚¹åœ¨$0$å±‚                             |
> >
> > - æ˜¾ç„¶$\forall{}u\in{}\mathcal{T}$å­˜åœ¨$\left|P_u\right|=O\left(\cfrac{N}{2^{\text{level } (u)}}\right)$ 
>
> ## 0.2. é€šç”¨å®šä¹‰
>
> > | $\textbf{Item}$ | å®šä¹‰                                                         |
> > | :-------------: | ------------------------------------------------------------ |
> > | æŸ¥è¯¢è¾“å…¥çš„å¤§å°  | $N:=\displaystyle{}\sum_{e \in D} \mid e . \verb|Doc|\mid$å³æ‰€æœ‰å¯¹è±¡çš„æ–‡æ¡£çš„æ€»å¤§å° |
> > |   å…³é”®è¯æ€»æ•°    | $W:=\left|\displaystyle\bigcup_{e \in D} e . \verb|DOC|\right|$ï¼Œå½“å…³é”®è¯è½¬åŒ–ä¸ºæ•´æ•°æ—¶$[1,W]$å°±æ˜¯å…³é”®è¯é›† |
> > |   æŸ¥è¯¢è¾“å‡ºé›†    | $D\left(\mathrm{w}_1, \ldots, \mathrm{w}_k\right):=$ åŒ…å«æ‰€æœ‰å…³é”®è¯çš„å¯¹è±¡é›† |
> > | å¤šé‡å¯¹æ•°(ç¬¦å·)  | $ \text{polylog}(N) = \log^k N$                              |
>
> ## 0.3. ä¸€äº›é¢„å¤‡çŸ¥è¯†
>
> > :one:$L\text{-Norm}$ï¼š$\left\{\begin{array}{l}\vec{p}=\left(p_1, p_2, \ldots, p_d\right) \\\\ \vec{q}=\left(q_1, q_2, \ldots, q_d\right)\end{array} \implies \right.L_q(p,q) = \displaystyle\left(\sum_{i=1}^{n} |p_i-q_1|^p \right)^{\frac{1}{p}}$  
> >
> > 1. $L_1\text{: }$å³æ›¼å“ˆé¡¿è·ç¦»ï¼Œå‘é‡çš„å„ä¸ªåˆ†é‡çš„ç»å¯¹å€¼åˆ
> > 2. $L_2\text{: }$å³æ¬§å‡ é‡Œå¾—è·ç¦»
> > 3. $L_{\infty}\text{: }$å³åˆ‡æ¯”é›ªå¤«è·ç¦»ï¼Œ$L_{\infty}(p, q)=\max _{i=1, \ldots, d}\left|p_i-q_i\right|$   
> >
> > :two:çº¿æ€§çº¦æŸï¼šä»¤$p:=(p[1], \ldots, p[d])$åˆ™$p$ å—åˆ°çº¿æ€§çº¦æŸ $\displaystyle\Leftrightarrow \sum_{i=1}^d c_i \cdot p[i] \leq c_{d+1}$ 
> >
> > :three:$k\text{-SI}$æŸ¥è¯¢æ¦‚å¿µï¼šç»™å®š$m$ä¸ªé›†åˆ$S_1, S_2, \ldots, S_m$ 
> >
> > 1. æŸ¥è¯¢ï¼šç»™å®šå¸¸æ•°$k\leq{}m$ä¸ª(æ•´æ•°)å…³é”®è¯$\mathrm{w}_1, \mathrm{w}_2, \ldots, \mathrm{w}_k$ï¼Œè¿”å›$\displaystyle{}\bigcap_{i=1}^k S_{\mathrm{w}_i}$ 
> > 2. ç©ºæŸ¥è¯¢ï¼šè¿”å›$\displaystyle{}\bigcap_{i=1}^k S_{\mathrm{w}_i}$æ˜¯å¦ä¸ºç©º
> >
> > :four:$kd\text{-}$æ ‘
> >
> > 1. å®šä¹‰ï¼šç»™å®šä¸€ä¸ªäºŒå‰æ ‘ä¸ç‚¹é›†$P=\{x_1,x_2,...,x_N\}\subseteq{}\mathbb{R}^2$  
> >
> >    - å¯¹åº”å…³ç³»ï¼š$\begin{cases}
> >      å¶ç»“ç‚¹i\xleftrightarrow{ä¸€ä¸€å¯¹åº”}ç‚¹x_i\\\\
> >      ä¸­é—´ç»“ç‚¹u\xleftrightarrow{ä¸€å¤šå¯¹åº”}ä»¥uä¸ºæ ¹å­æ ‘çš„å¶ç»“ç‚¹(P_u)\xleftrightarrow{ä¸€ä¸€å¯¹åº”}åŒ…ä½P_uæ‰€æœ‰ç‚¹çš„çŸ©å½¢\Delta_u\\\\
> >      æ ¹ç»“ç‚¹r\xleftrightarrow{ä¸€ä¸€å¯¹åº”}æ‰€æœ‰ç‚¹(P_{r}=P)
> >      \end{cases}$ 
> >    - åˆ†å‰²æ“ä½œï¼šä»$u$å¼€å§‹ä¸‹é™$\to{}\begin{cases}\text{level}(u)ä¸ºå¶æ•°\to{}å°†åŸçŸ©å½¢ç«–åˆ‡\\\\\text{level}(u)ä¸ºå¥‡æ•°\to{}å°†åŸçŸ©å½¢æ¨ªåˆ‡\end{cases}$ 
> >
> > 2. ç¤ºä¾‹ï¼š
> >
> >    <img src="https://raw.githubusercontent.com/DANNHIROAKI/New-Picture-Bed/main/img/image-20240812090431945.png" alt="image-20240812090431945" style="zoom: 45%;" />   

# 1. ç ”ç©¶èƒŒæ™¯ä¸å¯¼è®º

> ## 1.1. ç»“æ„åŒ–/éç»“æ„åŒ–æŸ¥è¯¢
>
> > :one:å«ä¹‰
> >
> > |     ç±»å‹     | å«ä¹‰                               |    ç¤ºä¾‹    |            å®ç°            |
> > | :----------: | ---------------------------------- | :--------: | :------------------------: |
> > |  ç»“æ„åŒ–æŸ¥è¯¢  | åŸºäºæŸ¥è¯¢å¯¹è±¡çš„é¢„è®¾æ¡ä»¶ï¼Œæ¥æ£€ç´¢æ•°æ® |  è°“è¯æŸ¥è¯¢  | é›†åˆç´¢å¼•(å¦‚$\text{kd-}$æ ‘) |
> > | éç»“æ„åŒ–æŸ¥è¯¢ | æŸ¥è¯¢å¯¹è±¡ä¸å…·æœ‰ä»»ä½•é¢„è®¾æ¨¡å¼         | å…³é”®è¯æ£€ç´¢ |          å€’æ’ç´¢å¼•          |
> >
> > :two:ç¤ºä¾‹ï¼šä»¥å…³ç³»`Hotel(price, rating, Doc)`ä¸ºä¾‹
> >
> > 1. ç»“æ„åŒ–æŸ¥è¯¢
> >
> >    - æ¡ä»¶$\mathbf{C}_1\text{: }$å•ç‹¬çº¦æŸçš„ç»“æ„åŒ–æ¡ä»¶
> >
> >      ```sql
> >      SELECT * FROM Hotel 
> >      WHERE Hotel.price BETWEEN 100 AND 200
> >      AND Hotel.rating >= 8;
> >      ```
> >
> >    - æ¡ä»¶$\mathbf{C}_1\text{: }$å•ç‹¬çº¦æŸçš„ç»“æ„åŒ–æ¡ä»¶
> >
> >      ```sql
> >      SELECT * FROM Hotel 
> >      WHERE c1 * Hotel.price + c2 * (10 - Hotel.rating) <= c3;
> >      ```
> >
> > 2. å…³é”®è¯æŸ¥è¯¢
> >
> >    - æ£€ç´¢å¾—åˆ°æ–‡æ¡£ä¸­åŒ…å«äº†å…³é”®è¯çš„å¯¹è±¡ï¼Œå…³é”®è¯ä¾‹å¦‚`pool`/`parking`/`bathroom` 
> >    - $\text{Ps. }$ä¸€èˆ¬ä¼šå°†å…³é”®è¯$\text{Embbeding}$ä¸ºæ•´æ•°
>
> ## 1.2. å¸¦ç»“æ„åŒ–çº¦æŸçš„å…³é”®è¯æœç´¢
>
> > :one:å¸¦å…³é”®è¯çš„èŒƒå›´æŸ¥è¯¢ï¼šå¯¹äº$D \subseteq \mathbb{R}^d$ 
> >
> > |           ç±»å‹           |            ç»™å®šæ¡ä»¶            | è¾“å‡ºé›†                                                       |
> > | :----------------------: | :----------------------------: | ------------------------------------------------------------ |
> > |     $\text{ORP-KW}$      | $d\text{-}$ç»´çŸ©å½¢$q+k$ä¸ªå…³é”®è¯ | ä¸ºç‚¹é›†ï¼Œ$e$åœ¨$q$å†…$+e$.`Doc`å«æ‰€æœ‰å…³é”®è¯                     |
> > |      $\text{RR-KW}$      | $d\text{-}$ç»´çŸ©å½¢$q+k$ä¸ªå…³é”®è¯ | ä¸ºçŸ©å½¢é›†ï¼Œ$eq$æœ‰äº¤å‰$+e$.`Doc`å«æ‰€æœ‰å…³é”®è¯                   |
> > | $L_{\infty}\text{NN-KW}$ |      ç›®æ ‡ç‚¹$q+k$ä¸ªå…³é”®è¯       | ä¸ºç‚¹é›†ï¼Œä»$D\left(\mathrm{w}_1, \ldots, \mathrm{w}_k\right)$ä¸­é€‰æ‹©ç¦»$q$æœ€è¿‘çš„$t$ä¸ªç‚¹ |
> >
> > :two:å¸¦å…³é”®è¯çš„çº¿æ€§è¿ç»“ï¼šå¯¹äº$D \subseteq \mathbb{R}^d$ 
> >
> > |        ç±»å‹         |            ç»™å®šæ¡ä»¶            | è¾“å‡ºé›†                                                       |
> > | :-----------------: | :----------------------------: | ------------------------------------------------------------ |
> > |   $\text{LC-KW}$    |  $O(1)$ä¸ªçº¿æ€§çº¦æŸ$+k$ä¸ªå…³é”®è¯  | ä¸ºç‚¹é›†ï¼Œ$e$æ»¡è¶³æ‰€æœ‰çº¦æŸ+e$.`Doc`å«æ‰€æœ‰å…³é”®è¯                 |
> > |   $\text{SRP-KW}$   | $d\text{-}$ç»´çƒä½“$q+k$ä¸ªå…³é”®è¯ | ä¸ºç‚¹é›†ï¼Œ$e$åœ¨$q$å†…$+e$.`Doc`å«æ‰€æœ‰å…³é”®è¯                     |
> > | $L_{2}\text{NN-KW}$ |      ç›®æ ‡ç‚¹$q+k$ä¸ªå…³é”®è¯       | ä¸ºç‚¹é›†ï¼Œä»$D\left(\mathrm{w}_1, \ldots, \mathrm{w}_k\right)$ä¸­é€‰ç¦»$q$æœ€è¿‘çš„$t$ä¸ªç‚¹ |
> >
> > - å¯¹äº$L_{2}\text{NN-KW}$å®é™…ä¸Šæ˜¯$D \subseteq \mathbb{N}^d$ï¼Œä¸”$\mathbb{N}\propto\log{}N$ 
>
> ## 1.3. ç ”ç©¶ç°çŠ¶
>
> > ### 1.3.1. é¢ä¸´çš„å›°å¢ƒ
> >
> > > :one:å•ç‹¬ä½¿ç”¨ç»“æ„/å…³é”®è¯æŸ¥è¯¢ï¼šéœ€è¦éœ€è¦æ£€æŸ¥å¤§é‡å¯¹è±¡ï¼ŒæŸ¥è¯¢æ—¶é—´æ¸è¿›ç­‰äºè¾“å…¥æ•°æ®é‡
> > >
> > > :two:å¸¦ç»“æ„åŒ–çº¦æŸçš„å…³é”®è¯æœç´¢ï¼šåœ¨å®é™…æ•°æ®ä¸Šè¡¨ç°è‰¯å¥½ï¼Œä½†ç†è®ºä¸Šç¼ºä¹æ”¯æ’‘å’Œè¿›å±•
> >
> > ### 1.3.2. æœ¬æ–‡ä¸»è¦ç ”ç©¶
> >
> > > :one:è®¾è®¡ç´¢å¼•è½¬åŒ–æ¡†æ¶ï¼Œå°†åŸæœ‰ä»…æ”¯æŒè°“è¯æŸ¥è¯¢çš„$kd\text{-}$æ ‘ç´¢å¼•ï¼Œè½¬åŒ–ä¸ºæ”¯æŒå…³é”®è¯çš„æ–°ç´¢å¼•
> > >
> > > :two:ä»¥$\text{OPR-KW}$ä¸ºä¾‹ï¼Œåˆ†æå¾—åˆ°æ–°ç´¢å¼•çš„å¤æ‚åº¦
> > >
> > > :three:é€šè¿‡å°†ç»“æ„åŒ–çº¦æŸçš„å…³é”®è¯æŸ¥è¯¢ï¼Œè½¬åŒ–ä¸º$\text{k-SI}$æŸ¥è¯¢ï¼Œä»è€Œè¯æ˜å¤æ‚åº¦æœ€ä¼˜

# 2. æ–°ç´¢å¼•ç»“æœåˆ†æ

> ## 2.1. å¤æ‚æ€§åˆ†æ: ==é»„æ ‡==è¡¨ç¤ºè¾¾æœ€ä¼˜$_{è§2.2}$ 
>
> > |           æŸ¥è¯¢ç±»å‹           |     å…¶å®ƒé™åˆ¶     |                      ç´¢å¼•ç©ºé—´                       |                           æŸ¥è¯¢æ—¶é—´                           |
> > | :--------------------------: | :--------------: | :-------------------------------------------------: | :----------------------------------------------------------: |
> > |     ==$\text{ORP-KW}$==      |  ==$d \leq 2$==  |                       $O(N)$                        | $\small{}O\left(N^{1-\cfrac{1}{k}}\cdot\left(1+\text{OUT}^{\cfrac{1}{k}}\right)\right)$ |
> > |     ==$\text{ORP-KW}$==      |  ==$d \geq 3$==  | $\small{}O\left(N \cdot(\log \log N)^{d-2}\right)$  | $\small{}O\left(N^{1-\cfrac{1}{k}}\cdot\left(1+\text{OUT}^{\cfrac{1}{k}}\right)\right)$ |
> > |     ==$\text{RR-KW}$$==      | ==$\text{N/A}$== | $\small{}O\left(N \cdot(\log \log N)^{2d-2}\right)$ | $\small{}O\left(N^{1-\cfrac{1}{k}}\cdot\left(1+\text{OUT}^{\cfrac{1}{k}}\right)\right)$ |
> > | ==$L_{\infin}\text{NN-KW}$== | ==$\text{N/A}$== | $\small{}O\left(N \cdot(\log \log N)^{2d-2}\right)$ | $\small{}O\left(N^{1-\cfrac{1}{k}}\cdot{}t^{\cfrac{1}{k}}\cdot\log{}N\right)$ |
> > |     ==$\text{LC-KW}$$==      |  ==$d\leq{}k$==  |                       $O(N)$                        | $\small{}O\left(N^{1-\cfrac{1}{k}}\cdot\left(\log{}N+\text{OUT}^{\cfrac{1}{k}}\right)\right)$ |
> > |      ==$\text{LC-KW}$==      |    ==$d>k$==     |                       $O(N)$                        | $\small{}O\left(N^{1-\cfrac{1}{d}}+N^{1-\cfrac{1}{k}}\cdot\text{OUT}^{\cfrac{1}{k}}\right)$ |
> > |       $\text{SRP-KW}$        |   $d\leq{}k-1$   |                       $O(N)$                        | $\small{}O\left(N^{1-\cfrac{1}{k}}\cdot\left(\log{}N+\text{OUT}^{\cfrac{1}{k}}\right)\right)$ |
> > |     ==$\text{SRP-KW}$==      |   ==$d>k-1$==    |                       $O(N)$                        | $\small{}O\left(N^{1-\cfrac{1}{d}}+N^{1-\cfrac{1}{k}}\cdot\text{OUT}^{\cfrac{1}{k}}\right)$ |
> > |      $L_2\text{ NN-KW}$      |   $d\leq{}k-1$   |                       $O(N)$                        | $\small{}O\left(\log{}N\cdot{}N^{1-\cfrac{1}{k}}\cdot\left(\log{}N+\text{OUT}^{\cfrac{1}{k}}\right)\right)$ |
> > |    ==$L_2\text{ NN-KW}$==    |   ==$d>k-1$==    |                       $O(N)$                        | $\small{}O\left(N^{1-\cfrac{1}{d+1}}+N^{1-\cfrac{1}{k}}\cdot{}t^{\cfrac{1}{k}}\right)$ |
>
> ## 2.2. ç´§è‡´æ€§è®¨è®º: $\tiny{}O\left(N^{1-\cfrac{1}{k}}\cdot\left(1+\text{OUT}^{\cfrac{1}{k}}\right)\right)$æœ€ä¼˜
>
> > ### 2.2.1. $k\text{-SI}$æŸ¥è¯¢çš„ç­‰ä»·: å°†åŸé—®é¢˜åˆ†æè½¬åŒ–ä¸ºå¯¹$k\text{-SI}$çš„åˆ†æ
> >
> > > :one:$k\text{-SI}$æŸ¥è¯¢$\xleftrightarrow{ç­‰ä»·}$çº¯ç²¹å…³é”®è¯æŸ¥è¯¢
> > >
> > > 1. $\displaystyle{}D\left(\mathrm{w}_1, \ldots, \mathrm{w}_k\right)\xRightarrow{}\bigcap_{i=1}^k S_{\mathrm{w}_i}$ï¼šä»¤é›†åˆ$S_{\mathrm{w}_i}$æ”¶é›†æ‰€æœ‰åŒ…å«äº†$\mathrm{w}_i$å…³é”®è¯çš„å¯¹è±¡$e$ (å€’æ’ç´¢å¼•)
> > > 2. $\displaystyle{}\displaystyle{}D\left(\mathrm{w}_1, \ldots, \mathrm{w}_k\right)\xLeftarrow{}\bigcap_{i=1}^k S_{\mathrm{w}_i}$ï¼šä¸ºæ¯ä¸ªå¯¹è±¡$e\in{}\displaystyle{}D=\bigcup_{i=1}^m S_i$åˆ›å»ºå…³é”®è¯$e.$`Doc` $:=\left\{i \mid e \in S_i\right\}$ 
> > >    - ä¾‹å¦‚ï¼š$S_1S_3$åŒ…å«$e$åˆ™$e.$`Doc`$\text{=\{1,3\}}$ï¼Œå°†åŒæ—¶æ‹¥æœ‰è¿™äº›å…³é”®è¯è½¬åŒ–ä¸ºåŒæ—¶åœ¨è¿™äº›é›†åˆä¸­
> > >
> > > :two:$k\text{-SI}$æŸ¥è¯¢$\xleftrightarrow{ç­‰ä»·}$ç»“æ„åŒ–é™åˆ¶çš„å…³é”®è¯æŸ¥è¯¢ï¼š
> > >
> > > 1. ä»¥æœç´¢çŸ©å½¢$q\in{}\mathbb{R}^d$çš„$\text{ORP-KW}$ä¸ºä¾‹ï¼šåªéœ€è¦åŸºäºä¹‹å‰çš„æ“ä½œï¼Œå°†$e\in{}D$æ˜ å°„åˆ°$\mathbb{R}^d$ä»»ä¸€ç‚¹å³å¯
> > >
> > > 2. ç±»ä¼¼å¯å¾—ï¼š$\text{ORP-KW/RR-KW/LC-KW}$æœ¬è´¨ä¸Šéƒ½æ˜¯$k\text{-SI}$æŸ¥è¯¢çš„æ³›åŒ–
> >
> > ### 2.2.2. $k\text{-SI}$æŸ¥è¯¢ç´§è‡´æ€§åˆ†æåŸºç¡€
> >
> > > :one:$k\text{-SI}$è¢«å¹¿æ³›éªŒè¯çš„ä¸¤ä¸ªçŒœæƒ³ï¼šå¯¹äº$\displaystyle{}N:=\sum_{i=1}^m\left|S_i\right|$æœ‰
> > >
> > > |    çŒœæƒ³     |            $\delta$            |               ç»™å®šæŸ¥è¯¢æ—¶é—´                |                    å¿…é¡»ä½¿ç”¨çš„ç´¢å¼•ç©ºé—´å¤§å°                    |
> > > | :---------: | :----------------------------: | :---------------------------------------: | :----------------------------------------------------------: |
> > > |   å¼ºç›¸äº¤    |       $\delta \in(0,1]$        |  $O\left(N^{1-\delta}+\text{OUT}\right)$  | $\Omega\left(\cfrac{N^{1+\delta}}{\text{polylog }N}\right)$  |
> > > | å¼º$k$ä¸ç›¸äº¤ | $\delta \in(0,1-\cfrac{1}{k}]$ | $O\left(N^{1-\cfrac{1}{k}-\delta}\right)$ | $\Omega\left(\cfrac{N^{1+k\delta}}{\text{polylog }N}\right)$ |
> > >
> > > :two:å¼•ç†ï¼šå¦‚æœç´¢å¼•ç»“æ„$1$å­˜åœ¨ï¼Œåˆ™ç´¢å¼•ç»“æ„$2$ä¹Ÿå¿…å®šæˆç«‹
> > >
> > > | ç´¢å¼• |                ç´¢å¼•ç©ºé—´                |                           æŸ¥è¯¢æ—¶é—´                           |
> > > | :--: | :------------------------------------: | :----------------------------------------------------------: |
> > > | $1$  | $O\left(N\cdot\text{polylog }N\right)$ | $O\left(N^{1-\cfrac{1}{k}}+N^{1-\cfrac{1}{k}} \cdot \text { OUT }^{\cfrac{1}{k}-\epsilon}+\mathrm{OUT}\right)$ |
> > > | $2$  | $O\left(N\cdot\text{polylog }N\right)$ | $O\left(N^{1-\min \left\{\cfrac{1}{k}, \cfrac{\epsilon}{1-\frac{1}{k}+\epsilon}\right\}}+\mathrm{OUT}\right)$ |
> >
> > ### 2.2.3. å¤šé¡¹å¼ç´§è‡´æ€§åˆ†æ
> >
> > > ğŸ¤”å…ˆè¯´ç»“è®ºï¼š$k\text{-SI}$æŸ¥è¯¢æ»¡è¶³ä»¥ä¸‹æ€§è´¨
> > >
> > > 1. $ç»™å®šç´¢å¼•ç©ºé—´O\left(N\cdot\text{polylog }N\right)\impliesæœ€ä¼˜æŸ¥è¯¢æ—¶é—´ä¸ºO\left(N^{1-\cfrac{1}{k}}\left(1+\text { OUT }^{\cfrac{1}{k}}\right)+\text{OUT}\right)$ 
> > >
> > > 2. $\text{Ps. }$
> > >    - $å±•å¼€åçš„ä¸‰é¡¹å¤šé¡¹å¼éƒ½è¾¾åˆ°äº†æœ€ä¼˜$ 
> > >    - $\text{æ˜¾è€Œæ˜“è§æœ‰}\displaystyle\lim_{k \to \infty} O\left(N^{1-\cfrac{1}{k}}\left(1+\text{OUT}^{\cfrac{1}{k}}\right) + \text{OUT}\right) = O(N + \text{OUT})$  
> > >
> > > :one:$O\left(N^{1-\cfrac{1}{k}}\right)$ä¸ºæœ€ä¼˜è¯æ˜ï¼š
> > >
> > > 1. å‡è®¾å­˜åœ¨æ›´ä¼˜è§£$O\left(N^{1-\cfrac{1}{k}-\epsilon}+N^{1-\cfrac{1}{k}}\cdot\text { OUT }^{\cfrac{1}{k}}+\text{OUT}\right)$ 
> > > 2. æ•´ä¸ª$k\text{-SI}$æŸ¥è¯¢åœ¨$\text{OUT}$ä¸ºç©ºæ—¶æœ€å¿«ï¼Œè¾¾åˆ°$O\left(N^{1-\cfrac{1}{k}-\epsilon}\right)$ 
> > >    - ==è¿™å°±æ˜¯$k\text{-SI}$ç©ºæŸ¥è¯¢çš„æ—¶é—´==ï¼Œç­‰äºè¿™ä¸ªæ—¶é—´è¿”å›$1$ï¼Œè¶…å‡ºè¿™ä¸ªæ—¶é—´åˆ™ç«‹å³ç»ˆæ­¢å¹¶è¿”å›$0$ 
> > > 3. æ ¹æ®å¼º$k$ä¸ç›¸äº¤çŒœæƒ³ï¼Œç´¢å¼•ç©ºé—´ä¸º$\Omega\left(\cfrac{N^{1+k\delta}}{\text{polylog }N}\right)$ä¸$O\left(N\cdot\text{polylog }N\right)$å†²çªï¼Œæ‰€ä»¥å·²æœ€ä¼˜
> > >
> > > :two:$O\left(N^{1-\cfrac{1}{k}}\right)\cdot\text { OUT }^{\cfrac{1}{k}}$ä¸ºæœ€ä¼˜è¯æ˜ï¼š
> > >
> > > 0. å¯¹äº$\delta=\min \left\{\cfrac{1}{k}, \cfrac{\epsilon}{1-\frac{1}{k}+\epsilon}\right\}$ï¼Œè€ƒè™‘å¼•ç†ä¸­çš„ä¸¤ä¸ªç´¢å¼•
> > > 1. å¦‚æœç´¢å¼•$1$å­˜åœ¨$\xrightarrow{å¼•ç†}$ç´¢å¼•$2$å­˜åœ¨$\begin{cases}\xrightarrow{å¼ºç›¸äº¤çŒœæƒ³}ç´¢å¼•ç©ºé—´è‡³å°‘ä¸º\Omega\left(\cfrac{N^{1+\delta{}}}{\text{polylog }N}\right)\\\\ç´¢å¼•ç©ºé—´ä¸ºO\left(N\cdot\text{polylog }N\right)\end{cases}\xrightarrow{ä¸Šä¸‹ä¸ç¬¦}çŸ›ç›¾$   
> > > 2. æ‰€ä»¥ç´¢å¼•$1$ä¸å­˜åœ¨ï¼Œå³==ä¸å¯èƒ½ä¼˜åŒ–åˆ°ç´¢å¼•$1$ä¸­æ‰€ç¤ºçš„æŸ¥è¯¢æ—¶é—´== 
> > >
> > > :three:$O\left(\text{OUT}\right)$æœ€ä¼˜ï¼šå› ä¸ºè¾“å‡ºä¸å¯é¿å…

# 3. ç´¢å¼•è½¬æ¢æ¡†æ¶

> ## 3.0. Intro
>
> > ğŸ¤”è¦å¹²å•¥ï¼šåŸå§‹$kd\text{-}$æ ‘: çº¯é›†åˆç´¢å¼•$\xrightarrow{ç´¢å¼•è½¬æ¢æ¡†æ¶}$è°ƒæ•´$kd\text{-}$æ ‘: æ”¯æŒå…³é”®è¯æŸ¥è¯¢ (æ­¤å¤„ä»¥$\text{ORP-KW}$ä¸ºä¾‹) 
> >
> > ğŸš€èšç„¦çš„é—®é¢˜ï¼š$\text{ORP-KW}$çš„æ—¶é—´å¤æ‚åº¦ä¸º$O\left(N^{1-\cfrac{1}{k}}\cdot\left(1+\text{OUT}^{\cfrac{1}{k}}\right)\right)$  
>
> ## 3.1. æ•°æ®ç»“æ„
>
> > :zero:ä¸€èˆ¬ä½ç½®å‡è®¾ï¼šæ‰€æœ‰å¯¹è±¡$e\in{}D\subseteq{}\mathbb{R}^2$æ— å…±äº«çš„$xy$åæ ‡ï¼Œä»¥ä¸‹åˆ†æéƒ½åŸºäºè¿™ä¸ªå‡è®¾
> >
> > :one:åœ¨$D$çš„è¯¦ç»†é›†ä¸Šæ„å»º$kd\text{-}$æ ‘$\mathcal{T}$ï¼šå¯¹äº$e\in{}D$é€šè¿‡ä»¥ä¸‹è§„åˆ™æ„å»ºè¯¦ç»†é›†$p\in{}P$  
> >
> > |    åŸé›†åˆ$D$    |          è¯¦ç»†é›†$P$           |
> > | :-------------: | :--------------------------: |
> > | å•ä¸ª$e_1\in{}D$ | $|e_1.$`Doc`$|$ä¸ª$e_1\in{}P$ |
> > | å•ä¸ª$e_2\in{}D$ | $|e_2.$`Doc`$|$ä¸ª$e_2\in{}P$ |
> > |    ........     |           ........           |
> >
> > :two:å®šä¹‰ç»“ç‚¹$u$çš„æ´»åŠ¨/æ¢çº½é›†
> >
> > 1. å®šä¹‰ï¼šè€ƒè™‘åœ¨$kd\text{-}$æ ‘çš„$u$ç»“ç‚¹å‘ç”Ÿä»¥ä¸‹åˆ†å‰²
> >
> >    <img src="https://raw.githubusercontent.com/DANNHIROAKI/New-Picture-Bed/main/img/image-20240808191618577.png" alt="image-20240808191618577" style="zoom:43%;" /> $\Large\xLeftrightarrow{\text{}}$<img src="https://raw.githubusercontent.com/DANNHIROAKI/New-Picture-Bed/main/img/image-20240808192010678.png" alt="image-20240808192010678" style="zoom:33%;" />   
> >
> >    - $u$çš„æ´»åŠ¨é›†$D_u^{act}$ï¼š$\begin{cases}D_u^{act}\xLeftrightarrow{}\Delta_{u}\\\\D_{v_1}^{act}/D_{v_2}^{act}\xLeftrightarrow{}\Delta_{v_1}/\Delta_{v_2}\end{cases}$ 
> >    - $u$çš„æ¢çº½é›†$D_u^{pvt}$ï¼š$\Delta_{v_1}$æˆ–$\Delta_{v_2}$è¾¹ç•Œä¸Šå¯¹è±¡çš„é›†åˆ
> >
> > 2. æ€§è´¨ï¼š$D_u^{pvt} \subseteq D_u^{act} \subseteq D$ï¼Œ$|D_u^{pvt}|=O(1)$  
> >
> > :three:å®šä¹‰ç»“ç‚¹$u$çš„å¤§å°å…³é”®å­—
> >
> > 1. å®šä¹‰ï¼šå¦‚æœå…³é”®å­—$\mathrm{w}$åœ¨$u$å¤„æ»¡è¶³$ \left|D_u^{act}(\mathrm{w})\right| \geq N_u^{1-\cfrac{1}{k}} $åˆ™$\mathrm{w}$ä¸º$u$å¤§å…³é”®å­—ï¼Œåä¹‹ä¸ºå°å…³é”®å­—
> >    - $D_u^{act}(\mathrm{w}) := \left\{ e \in D_u^{act} \mid \mathrm{w} \in e . \verb|DOC| \right\}$å³$u$æ´»åŠ¨é›†ä¸­åŒ…å«$\mathrm{w}$å…³é”®å­—çš„å¯¹è±¡é›†
> >    - $N_u := \displaystyle\sum_{e \in D_u^{act}} |e . \verb|DOC||$å³$u$æ´»åŠ¨é›†ä¸­æ¯ä¸ªå¯¹è±¡å…³é”®è¯æ•°é‡æ€»ï¼Œæ˜¾ç„¶$ N_u \leq \left|P_u\right| = O\left(\cfrac{N}{2^{\text{level }(u)}}\right) $  
> > 2. æ€§è´¨ï¼š$u$å¤„æœ€å¤šåªèƒ½æœ‰$ N_u^{\frac{1}{k}} $ä¸ªå¤§å…³é”®å­—
> >
> > :four:å®šä¹‰ç»“ç‚¹$u$çš„â€‹å¤æ•°é™„å±ç»“æ„$T_u$ 
> >
> > 1. $T_u$åŠŸèƒ½
> >
> >    | $T_u$è¾“å…¥                                                    |                          $T_u$è¾“å‡º                           |     é€‚ç”¨      |
> >    | :----------------------------------------------------------- | :----------------------------------------------------------: | :-----------: |
> >    | ç»“ç‚¹$u$                                                      |                      æ¢çº½é›†$D_u^{pvt}$                       | ä¸­é—´$+$å¶ç»“ç‚¹ |
> >    | ç»“ç‚¹$u$ï¼Œå…³é”®å­—$\mathrm{w}$                                  |               $\mathrm{w}$åœ¨$u$æ˜¯å¦ä¸ºå¤§å…³é”®å­—                |   ä¸­é—´ç»“ç‚¹    |
> >    | ç»“ç‚¹$u$ï¼Œ$u$å¤„$k$ä¸ªå¤§å…³é”®å­—$\mathrm{w}_1, \ldots, \mathrm{w}_k$ï¼Œ$u$å­èŠ‚ç‚¹$v$ | $\displaystyle{}\bigcap_{i=1}^k D_v^{act}\left(\mathrm{w}_i\right)$æ˜¯å¦ä¸ºç©º |   ä¸­é—´ç»“ç‚¹    |
> >
> > 2. $T_u$æ‰§è¡Œæ—¶é—´ï¼š$O(N_u^{\frac{1}{k}})\text{ word}+O(N_u)\text{ bit}$ 
> >
> > :five:æ•°æ®ç»“æ„çš„ç‰©åŒ–
> >
> > 1. å«ä¹‰ï¼šæ•°æ®ç»“æ„ä»æ¦‚å¿µæ¨¡å‹$\to$å†…å­˜å®ä½“
> > 2. $D_u^{act}(\mathrm{w})$ç‰©åŒ–çš„æ¡ä»¶ï¼š$\mathrm{w}$æ˜¯$u$å¤„çš„å°å…³é”®å­—$+$$\mathrm{w}$åœ¨$u$çš„æ‰€æœ‰ç¥–å…ˆå¤„ä¸ºå¤§å…³é”®å­—
>
> ## 3.2. è½¬æ¢ç®—æ³•: ä»¥$\text{ORP-KW}$æŸ¥è¯¢ä¸ºä¾‹
>
> > :one:ç®—æ³•çš„ä¸€äº›æ¨¡å—åŒ–æ“ä½œï¼šç»™å®šçŸ©å½¢$q$å’Œå…³$\mathbb{W}=\{\mathrm{w}_1, \ldots, \mathrm{w}_k\}$é”®è¯
> >
> > 1. è®¿é—®ç»“ç‚¹$u$æ“ä½œ
> >
> >    - è¯»å–$\forall{}e\in{}D_u^{pvt}$ 
> >    - å¦‚æœ$e$è¢«$q$è¦†ç›–$+e.$`Doc`åŒ…å«æ‰€æœ‰å…³é”®è¯ï¼Œåˆ™æŠ¥å‘Š$e$
> > 2. ä¸‹é™åˆ¤æ–­æ“ä½œï¼šè¦æ±‚ä»¥ä¸‹ä¸¤ä¸ªæ“ä½œåŒæ—¶è¿”å›**æ˜¯**ï¼Œæ‰è®¿é—®$u$çš„å­èŠ‚ç‚¹$v$ 
> >    - $u+å…³é”®å­—é›†\mathbb{W}\xrightarrow{T_u}\begin{cases}\mathbb{W}åœ¨uéƒ½ä¸ºå¤§å…³é”®å­—+å­èŠ‚ç‚¹v\xrightarrow{T_u}\begin{cases}\displaystyle{}\bigcap_{i=1}^k D_v^{act}\left(\mathrm{w}_i\right)ç©º\to{å¦}\\\\\displaystyle{}\bigcap_{i=1}^k D_v^{act}\left(\mathrm{w}_i\right)ä¸ç©º\to{æ˜¯}\end{cases}\\\\\mathbb{W}åœ¨uå­˜åœ¨å°å…³é”®å­—\to{}å¦\end{cases}$ 
> >    - çŸ©å½¢$q$ä¸å­èŠ‚ç‚¹å¯¹åº”çŸ©å½¢$\Delta_v$æœ‰äº¤å‰$\to{}$æ˜¯
> > 3. åœæ­¢ä¸‹é™åçš„æŠ¥å‘Šæ“ä½œï¼šå‡è®¾$u$å¤„å«æœ‰å°å…³é”®å­—$\mathrm{w}_i$ä»è€Œå¯¼è‡´ä¸‹é™ç»ˆæ­¢
> >    - ç‰©åŒ–$D_u^{act}\left(\mathrm{w}_i\right)$ ($u$çš„æ´»åŠ¨é›†ä¸­åŒ…æ‹¬äº†$\mathrm{w}_i$å…³é”®è¯çš„å¯¹è±¡)
> >    - æ£€æŸ¥æ‰€æœ‰$e\in{}D_u^{act}\left(\mathrm{w}_i\right)$ï¼Œå¦‚æœ$e$è¢«$q$è¦†ç›–$+e.$`Doc`åŒ…å«æ‰€æœ‰å…³é”®è¯ï¼Œåˆ™æŠ¥å‘Š$e$
> >
> > :two:ç®—æ³•ç»“æ„
> >
> > 1. ç®—æ³•æµç¨‹
> >
> >    <img src="https://raw.githubusercontent.com/DANNHIROAKI/New-Picture-Bed/main/img/image-20240809200459993.png" alt="image-20240809200459993" style="zoom:45%;" />  
> >
> > 2. ç®—æ³•æœ€ç»ˆè¾“å‡ºï¼š$q \cap D\left(\mathrm{w}_1, \ldots, \mathrm{w}_k\right)$ 
>
> ## 3.3. ç®—æ³•åˆ†æï¼šäº¤å‰æ•æ„Ÿæ€§çš„ç•Œå®š
>
> > :one:è¾…åŠ©æ•°æ®ç»“æ„
> >
> > 1. æŸ¥è¯¢å­æ ‘$\mathcal{T}_{\text {qry}}$ï¼šå¯¹$\mathcal{T}_{\text {}}$æ‰§è¡ŒæŸ¥è¯¢è¿‡ç¨‹ä¸­éå†çš„ç‚¹ï¼Œæ‰€å¾—åˆ°çš„å­æ ‘
> > 2. äº¤å‰å­æ ‘$\mathcal{T}_{\text {cross}}$ï¼š$\mathcal{T}_{\text {qry}}$ä¸­äº¤å‰ç»“ç‚¹æ„æˆçš„å­æ ‘
> >    - è¦†ç›–ç»“ç‚¹ï¼š$\mathcal{T}_{\text {qry}}$ä¸­ï¼Œæ»¡è¶³å¯¹åº”çŸ©å½¢$\Delta_{}u\subseteq$æŸ¥è¯¢çŸ©å½¢$q$çš„ç»“ç‚¹$u$
> >    - äº¤å‰ç»“ç‚¹ï¼š$\mathcal{T}_{\text {qry}}$ä¸­å…¶å®ƒ
> >
> > :two:å¤æ‚åº¦åˆ†æ
> >
> > |          ç®—æ³•æ‰€å¤„ç†çš„ç»“æ„           |                          æ—¶é—´å¤æ‚åº¦                          |
> > | :---------------------------------: | :----------------------------------------------------------: |
> > | $\mathcal{T}_{\text {qry}}$ä¸­é—´ç»“ç‚¹ |                            $O(1)$                            |
> > |  $\mathcal{T}_{\text {qry}}$å¶èŠ‚ç‚¹  |             $O\left(N_z^{1-\frac{1}{k}}\right)$              |
> > |           è¦†ç›–ç»“ç‚¹æ€»è€—æ—¶            | $O\left(N^{1-\cfrac{1}{k}}\left(1+\mathrm{OUT}^{\cfrac{1}{k}}\right)\right)$ |
> > |           äº¤å‰ç»“ç‚¹æ€»è€—æ—¶            | $\displaystyle{}\sum_{\text {int } u \text { of } \mathcal{T}_{\text {cross }}} O(1)+\sum_{\text {leaf } z \text { of } \mathcal{T}_{\text {cross }}} O\left(N_z^{1-\frac{1}{k}}\right)$ |
> >
> > 1. æ€»ä½“å¤æ‚åº¦$=$è¦†ç›–èŠ‚ç‚¹è€—æ—¶$+$äº¤å‰èŠ‚ç‚¹è€—æ—¶
> > 2. å¯¹å¤§å¤šæ•°ç´¢å¼•æ¥è¯´ï¼Œè¦†ç›–ç»“ç‚¹æ€»è€—æ—¶éƒ½ä¸å˜ï¼Œå½¢æˆå·®å¼‚åŒ–çš„æ˜¯äº¤å‰ç»“ç‚¹è€—æ—¶ï¼Œ==æ•…å®šä¹‰ä¸ºäº¤å‰æ•æ„Ÿæ€§== 
> >
> > :three:äº¤å‰æ•æ„Ÿæ€§çš„ç•Œå®š 
> >
> > 1. å¯¹ä»»æ„äºŒç»´çŸ©å½¢æŸ¥è¯¢åŒºåŸŸ$q$ï¼Œäº¤å‰æ•æ„Ÿæ€§ä¸º$O\left(N^{1-\frac{1}{k}}\right)$ 
> >
> >    - ç”±æ­¤å¯å¾—$\text{ORP-KW}$æŸ¥è¯¢çš„æ€»è€—æ—¶å°±æ˜¯$O\left(N^{1-\cfrac{1}{k}}\left(1+\mathrm{OUT}^{\cfrac{1}{k}}\right)\right)$ 
> >
> > 2. è¯æ˜æ€è·¯ï¼š
> >
> >    - å¤„ç†ç‰¹æ®Šæƒ…å†µï¼š$q$ä¸ºå‚çº¿æ—¶äº¤å‰æ•æ„Ÿæ€§ä¸º$O\left(N^{1-\frac{1}{k}}\right)$ 
> >
> >    - å¤„ç†ä¸€èˆ¬æƒ…å†µï¼š
> >
> >      - $kd\text{-}$æ ‘å‹ç¼©ï¼š$kd\text{-}$æ ‘æ¯å¶æ•°å±‚ä»…ä¸€ç‚¹åœ¨$\mathcal{T}_{\text {cross}}$ä¸­$\to{}$åˆ é™¤(éå¶)å¶æ•°å±‚è®©ä¸Šä¸‹çš„==å¥‡æ•°å±‚ç›´è¿== 
> >
> >        <img src="https://raw.githubusercontent.com/DANNHIROAKI/New-Picture-Bed/main/img/image-20240812103911511.png" alt="image-20240812103911511" style="zoom:43%;" /> 
> >
> >      - å¯¹ç®€åŒ–çš„æ ‘ç»“æ„åˆ†æå¯å¾—ï¼Œäº¤å‰æ•æ„Ÿæ€§ä»»ç„¶æ˜¯$O\left(N^{1-\frac{1}{k}}\right)$

# 4. ä¸€ç§å…³é”®è¯ä¸‹çš„é™ç»´æŠ€æœ¯

> ## 4.0. Intro
>
> > ğŸš€èšç„¦çš„é—®é¢˜ï¼šç”¨ä¸€ç§é™ç»´æŠ€æœ¯ï¼Œä½¿æ¯äºŒç»´ä»¥åå¢åŠ ä¸€ä¸ªç»´åº¦ï¼Œ$\text{ORP-KW}$ç©ºé—´å¤æ‚åº¦åªåŠ $O(\log^2 N)$ 
> >
> > ğŸŒµåˆ†æçš„åŸºç¡€ï¼šå…³äº$\text{ORP-KW}$ç´¢å¼•çš„ä¸€ä¸ªå¼•ç†ï¼Œå¦‚æœç´¢å¼•$1$å­˜åœ¨ï¼Œåˆ™ç´¢å¼•$2$ä¹Ÿä¸€å®šå­˜åœ¨
> >
> > |           ç´¢å¼•           |       ç»´åº¦é™åˆ¶       |                     ç´¢å¼•ç©ºé—´                     |                           æŸ¥è¯¢æ—¶é—´                           |
> > | :----------------------: | :------------------: | :----------------------------------------------: | :----------------------------------------------------------: |
> > | $\text{ORP-KW}$(ç´¢å¼•$1$) | $d=\lambda{}\geq{}2$ | $O\left(N \cdot(\log \log N)^{\lambda-2}\right)$ | $\left(N^{1-\cfrac{1}{k}}\cdot\left(1+\text{OUT}^{\cfrac{1}{k}}\right)\right)$ |
> > | $\text{ORP-KW}$(ç´¢å¼•$2$) |   $d=\lambda{}+1$    | $O\left(N \cdot(\log \log N)^{\lambda-1}\right)$ | $\left(N^{1-\cfrac{1}{k}}\cdot\left(1+\text{OUT}^{\cfrac{1}{k}}\right)\right)$ |
> >
> > - $\text{Ps. }$ å¯¹äº$D\subset{}\mathbb{R}^{\lambda{}+1}$ç§°ç¬¬ä¸€ç»´åº¦ä¸º$x$ç»´
> >
> > ğŸ¤”åˆ†ææ€è·¯ï¼šä¸Šè¿°å¼•ç†$+$äºŒç»´æ—¶$\text{ORP-KW}$çš„å¤æ‚åº¦åˆ†æ$\to$é«˜çº¬æ—¶$\text{ORP-KW}$çš„å¤æ‚åº¦
>
> ## 4.1. æ•°æ®ç»“æ„
>
> > :one:åŸºç¡€çš„ä¸€äº›å®šä¹‰
> >
> > 1. å­é›†æƒé‡ï¼š$\displaystyle{}\text {weight }\left(D^{\prime}\right):=\sum_{e \in D^{\prime}\subseteq D} \mid e . \verb|DOC| \mid$ï¼Œæ˜¾ç„¶æœ‰$\text{weight}\left(D^{\prime}\right) \geq\left|D^{\prime}\right|$ 
> > 2. $D^{\prime}$çš„$f\text{-}$å¹³è¡¡åˆ†å‰²ï¼šæ— è®º$D^{\prime}$å’Œ$f$å¦‚ä½•ï¼Œæ€»æœ‰ä¸€å…ƒç»„$\left(D_1, D_2, \ldots, D_f, e_1^*, e_2^*, \ldots, e_{f-1}^*\right)$æ»¡è¶³
> >    - $D_i\subseteq{}D$ï¼Œ$e_i\in{}D^{\prime}$æˆ–è€…$e_i=\text{null}$ 
> >    - $D_1, D_2, \ldots, D_f,\left\{e_1^*\right\},\left\{e_2^*\right\}, \ldots,\left\{e_{f-1}^*\right\}$å½¼æ­¤äº’æ–¥ï¼Œå¹¶ä¸”å¹¶é›†ä¸º$D^{\prime}$ 
> >    - $D_i$ä¸­æ¯ä¸ªå¯¹è±¡çš„$x$åæ ‡ï¼Œéƒ½å°äº$D_{i+k}$ä¸­æ¯ä¸ªå¯¹è±¡çš„$x$åæ ‡
> >    - $\text{weight}\left(D_{i}\right) \leq\cfrac{\text{weight}\left(D_{i}\right)}{f}$ 
> >
> > :two:å®šä¹‰æ ‘$\mathcal{T}$çš„æ´»åŠ¨/æ¢çº½é›†
> >
> > 1. $u\in{\mathcal{T}}$ä¸­æ´»åŠ¨é›†$D_u^{act}$ï¼šä¸å…ˆå‰å®šä¹‰ä¸€æ ·ä¸$\Delta_{u}$å¯¹åº”
> >
> > 2. $u\in{\mathcal{T}}$ä¸­æ¢çº½é›†$D_u^{pvt}$ï¼šå¯¹$D_u$ï¼Œæ‰§è¡Œ$f_u:=2 \cdot 2^{k^{\text{level}(u)}}-$å¹³è¡¡åˆ‡å‰²$\left(D_1, \ldots, D_{f_u}, e_1^*, \ldots, e_{f_u-1}^*\right)$ 
> >
> >    <img src="https://raw.githubusercontent.com/DANNHIROAKI/New-Picture-Bed/main/img/image-20240810010301831.png" alt="image-20240810010301831" style="zoom: 33%;" /> 
> >
> >    - å¯¹äº$u$æœ¬èº«ï¼š$D_u^{pvt}:=\left\{e_1^*, \ldots, e_{f_u-1}^*\right\}$ 
> >    - ç”Ÿæˆ$u$çš„(å¤š)å­èŠ‚ç‚¹${}v\to{}\begin{cases}D_1, \ldots, D_{f_u}çš†ç©º\to{}uä¸ºå¶ç»“ç‚¹(vä¸å­˜åœ¨)\\\\å¦åˆ™\to{}ä¸ºæ¯ä¸ªéç©ºD_iåˆ›å»ºå­èŠ‚ç‚¹\to{}D_v^{act}:=D_i\end{cases}$  
> >
> > :three:å®šä¹‰æ ‘ç»“ç‚¹$u$çš„æ¬¡çº§ç»“æ„ï¼šè€ƒè™‘$\text{input}\xrightarrow{T_u}\text{output}$ 
> >
> > 1. $\text{input}$ï¼šæ‰€åœ¨ç»“ç‚¹$u+k$ä¸ªå…³é”®è¯$+(\lambda\text{+1})\text{-}$çŸ©å½¢$q$ 
> >    - ä¸”$q$åœ¨$x$çš„æŠ•å½±ä¸º$(-\infty, \infty)$
> > 2. $\text{output}$ï¼š$u$æ´»åŠ¨é›†ä¸­çš„éƒ¨åˆ†å¯¹è±¡$e$ï¼Œæ»¡è¶³$e$è¢«çŸ©å½¢$q$è¦†ç›–$+$$e.$`Doc`åŒ…å«æ‰€æœ‰å…³é”®è¯
>
> ## 4.2. æŸ¥è¯¢ç®—æ³•
>
> > :one:ä¸€äº›è®°å·
> >
> > 1. $\sigma(u)$ä¸ºè¦†ç›–$D_u^{act}$ä¸­æ‰€æœ‰ç‚¹çš„$x$åæ ‡çš„æœ€ç´§å¯†åŒºé—´
> > 2. $q[i]$ä¸º$q$åœ¨$i \in[1, \lambda+1]$ä¸Šçš„æŠ•å½±åŒºé—´ï¼Œ$q[1]$æ˜¯$x$ç»´çš„åŒºé—´
> >
> > :two:æŸ¥è¯¢æ“ä½œï¼šè¾“å…¥$ (\lambda+1)\text{-}$çŸ©å½¢$q$ï¼Œå…³é”®è¯$\mathrm{w}_1, \ldots, \mathrm{w}_k$ 
> >
> > 1. è®¿é—®æ»¡è¶³ä»¥ä¸‹æ¡ä»¶çš„ç»“ç‚¹$u\in{}\mathcal{T}$ï¼Œå¹¶å°†è¢«è®¿é—®åˆ°çš„ç»“ç‚¹å‰¥ç¦»å‡ºä¸º$\mathcal{T}_{\text {qry}}$ 
> >
> >    - $\sigma(u) \cap q[1] \neq \emptyset$
> >    - $u$çš„æ‰€æœ‰ç¥–å…ˆ$v$çš„$\sigma(v)$ï¼Œéƒ½æ²¡å®Œå…¨åŒ…å«åœ¨$q[1]$ä¸­
> >
> > 2. å°†$\mathcal{T}_{\text {qry}}$ä¸­çš„ç‚¹åˆ†ç±» 
> >
> >    - ç±»å‹$1$(å›¾ä¸­é»‘ç‚¹)ï¼š$\sigma{(u)}\subseteq{}q[1]$
> >    - ç±»å‹$2$(å›¾ä¸­ç™½ç‚¹)ï¼šå…¶å®ƒç»“ç‚¹ï¼Œæ¯å±‚æœ€å¤šåªæœ‰ä¸¤ä¸ªç™½ç‚¹
> >
> > 3. æŠ¥å‘Šå¯¹è±¡
> >
> >    - å¯¹ç±»å‹$1$çš„ç‚¹ï¼šæ‰§è¡Œ$T_u$ä»¥æŠ¥å‘Šå¯¹è±¡
> >    - å¯¹ç±»å‹$2$çš„ç‚¹ï¼šæ£€æŸ¥å¹¶æŠ¥å‘Šæ¢çº½é›†ä¸­åˆè¦æ±‚çš„å¯¹è±¡ï¼Œæ—¶é—´å¼€é”€$O\left(\left|D_u^{pvt}\right|\right)=O\left(f_u\right)$ 
>
> ## 4.3. å¤æ‚åº¦åˆ†æ
>
> > :one:ç©ºé—´å¤æ‚åº¦åˆ†æ
> >
> > 1. $\mathcal{T}$æ¯å±‚ç»“ç‚¹çš„è¾…åŠ©ç»“æ„æ€»å ç”¨ç©ºé—´$O\left(N \cdot(\log \log N)^{\lambda-2}\right)$ 
> > 2. ç”±äº$\mathcal{T}$æœ‰$O(\log \log N)$å±‚æ•…æ€»ç©ºé—´ä¸º$O\left(N \cdot(\log \log N)^{\lambda-1}\right)$
> >
> > :two:æ—¶é—´å¤æ‚åº¦åˆ†æ
> >
> > 1. ç±»å‹$1$ç»“ç‚¹æˆæœ¬ï¼š$O\left(N^{1-\frac{1}{k}}\right)$ 
> > 2. ç±»å‹$2$ç»“ç‚¹æˆæœ¬ï¼š$O\left(N^{1-\frac{1}{k}}\right)$ 

 



